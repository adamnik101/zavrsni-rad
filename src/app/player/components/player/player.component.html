<div class="player">
    <div class="track-info">
      <div class="cover">
        <img src="assets/images/albums/astroworld.jpg" alt="track-cover-image"/>
      </div>
      <div class="naming">
        <p class="track-title">{{this.audioService.track.title}}</p>
        <app-track-artists-info [owner]="this.audioService.track.owner" [features]="this.audioService.track.features"></app-track-artists-info>
      </div>
    </div>
    <div class="player-commands">
      <div class="commands">
        <ng-template [ngIf]="!audioService.shuffle">
          <button class="rewind" matTooltip="Shuffle" (click)="toggleShuffle()">
            <img src="assets/icons-svg/shuffle-off.svg" alt="shuffle-icon" width="22" height="22"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="audioService.shuffle">
          <button class="rewind" matTooltip="Shuffle" (click)="toggleShuffle()">
            <img src="assets/icons-svg/shuffle.svg" alt="shuffle-icon" width="22" height="22"/>
          </button>
        </ng-template>
        <button class="rewind" matTooltip="Previous" (click)="previous()">
          <img src="assets/icons-svg/rewind.svg" alt="rewind-icon" width="18" height="18"/>
        </button>
        <ng-template [ngIf]="!this.audioService.isPlayingAudio">
          <button class="play-button"  matTooltip="Play" (click)="continue()">
            <img src="assets/icons-svg/play-round.svg" alt="play-button" width="30" height="30"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="this.audioService.isPlayingAudio">
          <button class="pause-button"  matTooltip="Pause" (click)="pause()">
            <img src="assets/icons-svg/pause-round.svg" alt="pause-button" width="30" height="30"/>
          </button>
        </ng-template>
        <button class="forward" matTooltip="Next" (click)="next()">
          <img src="assets/icons-svg/forward.svg" alt="forward-icon" width="18" height="18"/>
        </button>
        <ng-template [ngIf]="audioService.repeatState == 'Off'">
          <button class="repeat" (click)="repeatToggle()" matTooltip="Repeat off">
            <img src="assets/icons-svg/repeat-white.svg" alt="repeat-icon" width="22" height="22"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="audioService.repeatState == 'Repeat All'">
          <button class="repeat" (click)="repeatToggle()"  matTooltip="Repeat All">
            <img src="../../../../assets/icons-svg/repeat.svg" alt="repeat-icon" width="22" height="22"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="audioService.repeatState == 'Repeat One'">
          <button class="repeat-one" (click)="repeatToggle()"  matTooltip="Repeat One">
            <img src="assets/icons-svg/repeat-one.svg" alt="repeat-one-icon" width="22" height="22"/>
          </button>
        </ng-template>

      </div>
      <div class="seeker-container">
        <p>{{sliderIsBeingDragged ? (Number(slider.value) | date: 'mm:ss') : this.audioService.currentTime | date: 'mm:ss'}}</p>
        <input type="range" id="seeker" #slider
               (change)="seekToTime(Number(slider.value))"
               (input)="setRangeProgress()"
               [min]="0"
               [(ngModel)]="sliderIsBeingDragged ? Number(slider.value) : this.audioService.currentTime"
               [max]="this.audioService.audioDuration"
               (mousedown)="onSliderMouseDown()"
               (mouseup)="onSliderMouseUp()"
               step="1"
        >
        <p>{{audioService.audioDuration | date: 'mm:ss'}}</p>
      </div>
    </div>
    <div class="player-commands">
      <div class="more-commands">
        <button class="queue" matTooltip="Queue" (click)="toggleQueueWindow()">
          <img src="assets/icons-svg/queue.svg" alt="queue-icon" width="17" height="17"/>
        </button>
        <ng-template [ngIf]="audioService.audio.volume > 0.7">
          <button class="volume-up" (click)="Mute()">
            <img src="assets/icons-svg/volume-up.svg" alt="volume-icon" width="18" height="18" matTooltip="Mute"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="audioService.audio.volume > 0.0 && audioService.audio.volume <= 0.7">
          <button class="volume-down" (click)="Mute()">
            <img src="assets/icons-svg/volume-down.svg" alt="volume-icon" width="18" height="18" matTooltip="Mute"/>
          </button>
        </ng-template>
        <ng-template [ngIf]="audioService.audio.volume == 0.0">
          <button class="volume-off" (click)="Unmute()">
            <img src="assets/icons-svg/volume-off.svg" alt="volume-icon" width="18" height="18" matTooltip="Unmute"/>
          </button>
        </ng-template>
        <div class="volume-slider">
          <input type="range" id="volume" #volume
                 [min]="0.0"
                 [max]="1.0"
                 (input)="setVolumeProgress()"
                 [(ngModel)]="audioService.audio.volume"
                 step="0.01">
        </div>
      </div>
    </div>
  </div>

<app-queue-list [style.display]="queueWindowIsOpened ? 'block' : 'none'" [(queueWindow)]="queueWindowIsOpened"></app-queue-list>
